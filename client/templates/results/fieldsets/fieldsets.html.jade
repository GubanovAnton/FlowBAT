template(name="fieldsets")
  fieldset
    legend Input options
    .row
      .col-xs-6
        .form-group
          label.control-label Start date
          .input-group
            span.input-group-addon
              +checkbox(family="query" _id=_id property="startDateEnabled" value=startDateEnabled isNew=isNew)
            +date(family="query" _id=_id property="startDate" value=startDate enabled=startDateEnabled placeholder="yyyy/mm/dd" isNew=isNew)
            span.input-group-addon
              i.glyphicon.glyphicon-calendar
      .col-xs-6
        .form-group
          label.control-label End date
          .input-group
            span.input-group-addon
              +checkbox(family="query" _id=_id property="endDateEnabled" value=endDateEnabled isNew=isNew)
            +date(family="query" _id=_id property="endDate" value=endDate enabled=endDateEnabled placeholder="yyyy/mm/dd" isNew=isNew)
            span.input-group-addon
              i.glyphicon.glyphicon-calendar
    .row
      .col-xs-6
        .form-group
          label.control-label Sensor
          .input-group
            span.input-group-addon
              +checkbox(family="query" _id=_id property="sensorEnabled" value=sensorEnabled isNew=isNew)
            +input(family="query" _id=_id property="sensor" value=sensor enabled=sensorEnabled isNew=isNew)
      .col-xs-6
        .form-group
          label.control-label Type
          .input-group
            span.input-group-addon
              +checkbox(family="query" _id=_id property="typeEnabled" value=typeEnabled isNew=isNew)
            +input(family="query" _id=_id property="type" value=type enabled=typeEnabled isNew=isNew)
  fieldset
    legend Additional options
    .row
      .col-xs-6
        .form-group
          .input-group
            span.input-group-addon
              +checkbox(family="query" _id=_id property="additionalParametersEnabled" value=additionalParametersEnabled isNew=isNew)
            +input(family="query" _id=_id property="additionalParameters" value=additionalParameters enabled=additionalParametersEnabled placeholder="Raw command-line options" isNew=isNew)
  fieldset
    legend Final query
    .row
      .col-xs-12
        code.query-display
          if string
            | rwfilter {{string}}
          else
            em Please set some options to build the query
