{"version":3,"sources":["users.coffee"],"names":[],"mappings":";AAAA,MAAM,CAAC,KAAK,CAAC,KAAb,CACE;AAAA,UAAQ,KAAK,CAAC,oBAAN,CAA2B,SAAC,MAAD,EAAS,IAAT;WACjC,MADiC;EAAA,CAA3B,CAAR;AAAA,EAEA,QAAQ,KAAK,CAAC,oBAAN,CAA2B,SAAC,MAAD,EAAS,IAAT,EAAe,UAAf,EAA2B,QAA3B;AACjC,cAAY,CAAC,QAAQ,CAAC,OAAf,CAAuB,MAAvB,EAA+B,OAA/B,CAAP;AACE,YAAU,SAAK,CAAC,KAAN,CAAY,sCAAZ,CAAV,CADF;KAAA;WAEA,KAHiC;EAAA,CAA3B,CAFR;AAAA,EAMA,QAAQ,KAAK,CAAC,oBAAN,CAA2B,SAAC,MAAD,EAAS,IAAT;AACjC;AACE,YAAU,SAAK,CAAC,KAAN,CAAY,8CAAZ,CAAV,CADF;KAAA;AAEA,QAAG,WAAU,IAAI,CAAC,GAAlB;AACE,YAAU,SAAK,CAAC,KAAN,CAAY,2BAAZ,CAAV,CADF;KAFA;AAIA,cAAY,CAAC,QAAQ,CAAC,OAAf,CAAuB,MAAvB,EAA+B,OAA/B,CAAP;AACE,YAAU,SAAK,CAAC,KAAN,CAAY,sCAAZ,CAAV,CADF;KAJA;WAMA,KAPiC;EAAA,CAA3B,CANR;CADF","file":"/server/security/users.coffee.js","sourcesContent":["Meteor.users.allow\n  insert: share.securityRulesWrapper (userId, user) ->\n    false\n  update: share.securityRulesWrapper (userId, user, fieldNames, modifier) ->\n    unless share.Security.hasRole(userId, \"admin\")\n      throw new Match.Error(\"Operation not allowed for non admins\")\n    true\n  remove: share.securityRulesWrapper (userId, user) ->\n    unless userId\n      throw new Match.Error(\"Operation not allowed for unauthorized users\")\n    if userId is user._id\n      throw new Match.Error(\"User can't remove himself\")\n    unless share.Security.hasRole(userId, \"admin\")\n      throw new Match.Error(\"Operation not allowed for non admins\")\n    true\n"]}