{"version":3,"sources":["publications.coffee"],"names":[],"mappings":";AAGA,MAAM,CAAC,OAAP,CAAe,aAAf,EAA8B;AAC5B,MAAG,KAAK,OAAR;AAAoB,WAAO,EAAP,CAApB;GAAA;SACA,MAAM,CAAC,KAAK,CAAC,IAAb,CAAkB;AAAA,IAAC,KAAK,IAAC,OAAP;GAAlB,EACE;AAAA,YACE;AAAA,eAAS,CAAT;AAAA,MACA,UAAU,CADV;AAAA,MAEA,WAAW,CAFX;AAAA,MAGA,UAAU,CAHV;AAAA,MAIA,aAAa,CAJb;KADF;GADF,EAF4B;AAAA,CAA9B;;AAAA,MAWM,CAAC,OAAP,CAAe,OAAf,EAAwB;AACtB,MAAG,KAAK,OAAR;AAAoB,WAAO,EAAP,CAApB;GAAA;AACA,MAAG,KAAK,CAAC,QAAQ,CAAC,OAAf,CAAuB,IAAC,OAAxB,EAAgC,OAAhC,CAAH;WACE,MAAM,CAAC,KAAK,CAAC,IAAb,CAAkB,EAAlB,EACE;AAAA,cACE;AAAA,iBAAS,CAAT;AAAA,QACA,UAAU,CADV;AAAA,QAEA,WAAW,CAFX;AAAA,QAGA,UAAU,CAHV;AAAA,QAIA,aAAa,CAJb;OADF;KADF,EADF;GAAA;WAUE,GAVF;GAFsB;AAAA,CAAxB,CAXA;;AAAA,MAyBM,CAAC,OAAP,CAAe,SAAf,EAA0B;AACxB;AAAA,MAAG,KAAK,OAAR;AACE,aAAS,KAAK,CAAC,OAAO,CAAC,OAAd,EAAT;AACA,QAAG,UAAW,OAAU,CAAC,eAAzB;AACE,aAAO,KAAK,CAAC,OAAO,CAAC,IAAd,EAAP,CADF;KADA;AAGA,WAAO,EAAP,CAJF;GAAA;AAKA,MAAG,KAAK,CAAC,QAAQ,CAAC,OAAf,CAAuB,IAAC,OAAxB,EAAgC,OAAhC,CAAH;AACE,WAAO,KAAK,CAAC,OAAO,CAAC,IAAd,EAAP,CADF;GAAA;AAGE,WAAO,EAAP,CAHF;GANwB;AAAA,CAA1B,CAzBA;;AAAA,MAoCM,CAAC,OAAP,CAAe,SAAf,EAA0B;AACxB,MAAG,KAAK,OAAR;AAAoB,WAAO,EAAP,CAApB;GAAA;SACA,KAAK,CAAC,OAAO,CAAC,IAAd,CAAmB;AAAA,IAAC,SAAS,IAAC,OAAX;GAAnB,EAFwB;AAAA,CAA1B,CApCA;;AAAA,MAwCM,CAAC,OAAP,CAAe,QAAf,EAAyB;AACvB,MAAG,KAAK,OAAR;AAAoB,WAAO,EAAP,CAApB;GAAA;SACA,KAAK,CAAC,MAAM,CAAC,IAAb,CAAkB;AAAA,IAAC,SAAS,IAAC,OAAX;GAAlB,EAFuB;AAAA,CAAzB,CAxCA;;AAAA,MA4CM,CAAC,OAAP,CAAe,QAAf,EAAyB;AACvB,MAAG,KAAK,OAAR;AAAoB,WAAO,EAAP,CAApB;GAAA;SACA,KAAK,CAAC,MAAM,CAAC,IAAb,CAAkB;AAAA,IAAC,SAAS,IAAC,OAAX;GAAlB,EAFuB;AAAA,CAAzB,CA5CA","file":"/server/model/publications.coffee.js","sourcesContent":["#Meteor.publish \"loginServiceConfigurationData\", () ->\n#  Accounts.loginServiceConfiguration.find({})\n\nMeteor.publish \"currentUser\", () ->\n  if not @userId then return []\n  Meteor.users.find({_id: @userId},\n    fields:\n      \"group\": 1\n      \"emails\": 1\n      \"profile\": 1\n      \"status\": 1\n      \"createdAt\": 1\n  )\n\nMeteor.publish \"users\", ->\n  if not @userId then return []\n  if share.Security.hasRole(@userId, \"admin\")\n    Meteor.users.find({},\n      fields:\n        \"group\": 1\n        \"emails\": 1\n        \"profile\": 1\n        \"status\": 1\n        \"createdAt\": 1\n    )\n  else\n    []\n\nMeteor.publish \"configs\", ->\n  if not @userId\n    config = share.Configs.findOne()\n    if config and not config.isSetupComplete\n      return share.Configs.find()\n    return []\n  if share.Security.hasRole(@userId, \"admin\")\n    return share.Configs.find()\n  else\n    return []\n\nMeteor.publish \"queries\", ->\n  if not @userId then return []\n  share.Queries.find({ownerId: @userId})\n\nMeteor.publish \"ipsets\", ->\n  if not @userId then return []\n  share.IPSets.find({ownerId: @userId})\n\nMeteor.publish \"tuples\", ->\n  if not @userId then return []\n  share.Tuples.find({ownerId: @userId})\n"]}